# DocumentaciÃ³n de la API Backend
![Status](https://img.shields.io/badge/estado-en%20desarrollo-green)
![Version](https://img.shields.io/badge/versiÃ³n-1.0.0-blue)
![Node](https://img.shields.io/badge/node-%3E%3D%2014.0.0-brightgreen)

Este proyecto es una API backend para gestionar productos y carritos de compras. EstÃ¡ construido utilizando Node.js y Express, con una estructura modular para escalabilidad y mantenibilidad.

## ğŸ“‹ Tabla de Contenidos 

- [âœ¨ CaracterÃ­sticas principales](#-caracterÃ­sticas-principales)
- [ğŸ› ï¸ InstalaciÃ³n](#ï¸instalaciÃ³n)
- [ğŸš€ Scripts](#-scripts)
- [ğŸ“¦ Dependencias](#-dependencias)
- [ğŸ“ Estructura del Proyecto](#-estructura-del-proyecto)
- [ğŸŒ Endpoints de la API](#-endpoints-de-la-api)
  - [ğŸ“¦ Rutas de Productos](#rutas-de-productos)
  - [ğŸ›’ Rutas de Carritos](#rutas-de-carritos)
- [ğŸ“ Notas](#-notas)

---

## âœ¨ CaracterÃ­sticas principales

- GestiÃ³n completa de productos (CRUD)
- AdministraciÃ³n de carritos de compra
- Persistencia de datos en archivos JSON
- Arquitectura modular para fÃ¡cil extensiÃ³n



## ğŸ› ï¸ InstalaciÃ³n

1. Instalar las dependencias:
     ```bash
     npm install
     ```

---

## ğŸš€ Scripts

- Iniciar el servidor de desarrollo con recarga automÃ¡tica:
    ```bash
    npm run dev
    ```

---

## ğŸ“¦ Dependencias

- **express**: Framework web para construir APIs.
- **nodemon**: Herramienta de desarrollo para reiniciar automÃ¡ticamente el servidor al cambiar archivos.

Para la lista completa de dependencias, consulta el archivo `package.json`.

---

## ğŸ“ Estructura del Proyecto

```
Backend/
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ cartController.js
â”‚   â””â”€â”€ productController.js
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ carts.json
â”‚   â””â”€â”€ products.json
â”œâ”€â”€ managers/
â”‚   â”œâ”€â”€ CartManager.js
â”‚   â””â”€â”€ ProductManager.js
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ cartRoutes.js
â”‚   â””â”€â”€ productRoutes.js
â”œâ”€â”€ app.js
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## ğŸŒ API Endpoints

### ğŸ“¦ Product Routes

Base URL: `/api/products`

| Method | Endpoint         | Description                     |
|--------|------------------|---------------------------------|
| GET    | `/`              | Obtener todos los productos    |
| GET    | `/:pid`          | Obtener producto por ID        |
| POST   | `/`              | Agregar nuevo producto         |
| PUT    | `/:pid`          | Actualizar producto por ID     |
| DELETE | `/:pid`          | Eliminar producto por ID       |

# Pruebas de Rutas

## **Rutas de Productos (`/api/products`)**

1. **GET `/api/products`**
   - **DescripciÃ³n**: Obtener todos los productos.
   - **MÃ©todo**: GET
   - **URL**: `http://localhost:8080/api/products`
   - **Resultado esperado**: Un arreglo con los productos (vacÃ­o si no has agregado ninguno).

2. **POST `/api/products`**
   - **DescripciÃ³n**: Crear un nuevo producto.
   - **MÃ©todo**: POST
   - **URL**: `http://localhost:8080/api/products`
   - **Cuerpo de la solicitud (Body)**:
     ```json
     {
       "title": "Producto 3",
       "description": "DescripciÃ³n 3",
       "price": 300,
       "stock": 15
     }
     ```
   - **Resultado esperado**: Un objeto JSON con el producto creado y un ID autogenerado:
     ```json
     {
       "id": 3,
       "title": "Producto 3",
       "description": "DescripciÃ³n 3",
       "price": 300,
       "stock": 15
     }
     ```

3. **GET `/api/products/:pid`**
   - **DescripciÃ³n**: Obtener un producto por su ID.
   - **MÃ©todo**: GET
   - **URL**: `http://localhost:8080/api/products/3` (reemplazar `3` con el ID del producto que quieres consultar).
   - **Resultado esperado**: El producto con el ID especificado:
     ```json
     {
       "id": 3,
       "title": "Producto 3",
       "description": "DescripciÃ³n 3",
       "price": 300,
       "stock": 15
     }
     ```

4. **PUT `/api/products/:pid`**
   - **DescripciÃ³n**: Actualizar un producto por su ID.
   - **MÃ©todo**: PUT
   - **URL**: `http://localhost:8080/api/products/3` (reemplazar `3` con el ID del producto que deseas actualizar).
   - **Cuerpo de la solicitud (Body)**:
     ```json
     {
       "price": 350,
       "stock": 20
     }
     ```
   - **Resultado esperado**: El producto actualizado con los nuevos datos:
     ```json
     {
       "id": 3,
       "title": "Producto 3",
       "description": "DescripciÃ³n 3",
       "price": 350,
       "stock": 20
     }
     ```

5. **DELETE `/api/products/:pid`**
   - **DescripciÃ³n**: Eliminar un producto por su ID.
   - **MÃ©todo**: DELETE
   - **URL**: `http://localhost:8080/api/products/3` (reemplazar `3` con el ID del producto que deseas eliminar).
   - **Resultado esperado**: Un mensaje de Ã©xito o el producto eliminado.

---


### ğŸ›’ Cart Routes

Base URL: `/api/carts`

| Method | Endpoint                     | Description                          |
|--------|------------------------------|--------------------------------------|
| POST   | `/`                          | Crear un nuevo carrito                   |
| GET    | `/:cid`                      | Obtener carrito por ID                   |
| POST   | `/:cid/product/:pid`         | Agregar producto a un carrito            |

## **Rutas de Carritos (`/api/carts`)**

1. **POST `/api/carts`**
   - **DescripciÃ³n**: Crear un nuevo carrito.
   - **MÃ©todo**: POST
   - **URL**: `http://localhost:8080/api/carts`
   - **Resultado esperado**: Un objeto JSON con el carrito creado, por ejemplo:
     ```json
     {
       "id": 1,
       "products": []
     }
     ```

2. **GET `/api/carts/:cid`**
   - **DescripciÃ³n**: Obtener un carrito por su ID.
   - **MÃ©todo**: GET
   - **URL**: `http://localhost:8080/api/carts/1` (reemplazar `1` con el ID del carrito que quieres consultar).
   - **Resultado esperado**: El carrito con el ID especificado. Si es nuevo, estarÃ¡ vacÃ­o:
     ```json
     {
       "id": 1,
       "products": []
     }
     ```

3. **POST `/api/carts/:cid/product/:pid`**
   - **DescripciÃ³n**: Agregar un producto a un carrito existente.
   - **MÃ©todo**: POST
   - **URL**: `http://localhost:8080/api/carts/1/product/3` (reemplazar `1` con el ID del carrito y `3` con el ID del producto que deseas agregar).
   - **Resultado esperado**: El carrito actualizado con el producto agregado:
     ```json
     {
       "id": 1,
       "products": [
         {
           "id": 3,
           "quantity": 1
         }
       ]
     }
     ```

---

### ğŸ“ Notas
El proyecto utiliza archivos JSON (products.json y carts.json) para persistir los datos.

Asegurarse de que la carpeta data/ exista y tenga permisos de escritura para que funcione correctamente.

---  